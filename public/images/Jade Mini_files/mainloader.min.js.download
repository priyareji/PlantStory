(()=>{function t(t,e=!1,r=!1,n=!1){const o=document.createElement("script");o.setAttribute("src",t),e&&o.setAttribute("async",""),r&&o.setAttribute("defer",""),n&&o.setAttribute("type","module"),document.body.appendChild(o)}const e=document.currentScript;!function(){void 0===window.nector_params&&(window.nector_params={}),void 0===window.nector&&(window.nector={}),window.elementId="nector-rewards-widget-wSVNjD";let r=e.dataset,n=null,o=null;try{window&&window.location&&window.location.href&&(n=new URL(window.location.href),o=n&&n.searchParams)}catch(t){}if(r&&Object.values(r).length>0){let n=r.op;if(!n)return;if("widget"===n){let e=r.api_key||null,n=r.customer_id||nector_params.customer_id||null,o=r.platform||null,i=r.websdk_url||null,a=r.platform_url||null,l=r.font_name||null,s=r.font_url||null;if(!e)return;if(nector={...nector||{},api_key:e,identifier:o,business_customer_id:n||null,websdk_url:i,platform_url:a},l&&s&&(nector.font_name=l,nector.font_url=s),!document.getElementById(elementId)){let t=document.createElement("div");t.id=elementId,document.body.appendChild(t)}setTimeout((()=>{a&&a.includes("stageplatform.nector.io")?t("https://cdn.nector.io/nector-static/no-cache/stagereward-widget/main.min.js",!0):t("https://cdn.nector.io/nector-static/no-cache/reward-widget/main.min.js",!0)}),2e3)}else if("review_list"===n||"featured_review_list"===n||"row_review_list"===n){let t=r.api_key||null,o=r.platform||null,a=r.product_id||nector_params.product_id||null,l=r.websdk_url||"https://websdk.nector.io",s=r.platform_url||"https://platform.nector.io",c=r.font_name||null,d=r.font_url||null,u=Number(r.limit||10),p=r.all_reviews||!1,m=r.view_type||"grid",_=r.write_review_mode||"inline",f=r.hide_review_list||!1,w=r.hide_write_review||!1,h=r.default_reviews_sort||null;if(!t)return;let y="nector-reviews",g=null;"featured_review_list"===n?(g=`${l}/nector/featuredreview-list/?murl=${s}&mkey=${t}`,y="nector-featured-reviews"):g=`${l}/nector/review-list/?murl=${s}&mkey=${t}`;const b=new URLSearchParams;o&&"featured_review_list"!==n&&b.set("mi",o),a&&"featured_review_list"!==n&&b.set("reference_product_id",a),c&&d&&(b.set("font_name",c),b.set("font_url",d)),u&&"featured_review_list"!==n&&b.set("limit",u),p&&"featured_review_list"!==n&&b.set("mar",p),h&&"featured_review_list"!==n&&b.set("mdrsort",h),m&&"featured_review_list"!==n&&b.set("mvt",m),_&&"featured_review_list"!==n&&b.set("mwrm",_),f&&"featured_review_list"!==n&&b.set("mhrl",f),w&&"featured_review_list"!==n&&b.set("mhwr",w),[...b.keys()].length>0&&(g+=`&${b.toString()}`);var i=function(){let t=document.createElement("div");e.parentNode.insertBefore(t,e);const r=document.createElement("script");r.setAttribute("src","https://cdn.nector.io/nector-static/js/iframeResizer.min.js"),r.setAttribute("async",""),r.onload=function(){const e=document.createElement("script");e.text=`iFrameResize({ log: false, tolerance: 2 }, '#${y}')`,t.appendChild(e)},t.appendChild(r);const n=document.createElement("iframe");n.id=y,n.setAttribute("src",g),n.style.width="100%",n.style.border="0px",t.appendChild(n)};"featured_review_list"===n?setTimeout((()=>i()),3e3):i()}else if("review_rating"===n){let t=r.api_key||null,n=r.platform||null,o=r.product_id||null,i=r.entity_id||null,a=r.platform_url||null,l=r.color||"#ffc83d";if(a||(a=i?"https://collectfront.nector.io":"https://cachefront.nector.io"),!t)return;let s=document.createElement("p");e.parentNode.insertBefore(s,e);let c=`${a}/api/v2/merchant/reviews-count`;const d=new URLSearchParams;i&&"https://collectfront.nector.io"===a&&d.set("entity_id",i),n&&d.set("reference_product_source",n),o&&d.set("reference_product_id",o),[...d.keys()].length>0&&(c+=`?${d.toString()}`),fetch(c,{method:"get",headers:{"x-apikey":t,"x-source":"web"}}).then((t=>t.json())).then((t=>function(t){if(!t||!t.data||!t.data.countsum)return;const e=t.data.countsum||{sum:0,count:1},r=(Number(e.sum||0)/Number(e.count||1)).toFixed(2),n=Number(e.count||0),o=r;let i=`<a href="#nector-reviews" style="text-decoration: none;"><span style="font-weight: bold; font-size: 14px; color: ${l}; display: inline-flex; justify-content: center;">`;for(let t=1;t<=5;t++){let e=t-.5;i+=o>=t?'<svg class="prapp-star" style="width: 1em; height: 1em;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">\n\t\t\t\t\t\t\t\t\t<path fill="currentcolor" d="M512,197.816L325.961 185.585 255.898 9.569 185.835 185.585 0 197.816 142.534 318.842 95.762 502.431 255.898 401.21 416.035 502.431 369.263 318.842z"></path>\n\t\t\t\t\t\t\t\t</svg>':o>=e?'<svg class="prapp-star" style="width: 1em; height: 1em;" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="510px" height="510px" viewBox="0 0 510 510" style="enable-background:new 0 0 510 510;" xml:space="preserve">\n\t\t\t\t\t\t\t\t\t<path fill="currentcolor" d="M510,197.472l-183.37-15.734L255,12.75l-71.629,168.988L0,197.472l0,0l0,0l139.103,120.539L97.41,497.25L255,402.186l0,0l157.59,95.039l-41.692-179.239L510,197.472z M255,354.348V117.172l43.605,102.918l111.689,9.588l-84.711,73.389l25.398,109.166L255,354.348z"/>\n\t\t\t\t\t\t\t\t</svg>':'<svg class="prapp-star" style="width: 1em; height: 1em;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">\n\t\t\t\t\t\t\t\t\t<path fill="currentcolor" d="M512,197.819l-185.933-12.228L256,9.571l-70.067,176.021L0,197.82l142.658,120.93L95.856,502.429L256,401.214 l160.144,101.215l-46.8-183.671L512,197.819z M256,365.724l-112.464,71.08l32.827-128.831L75.829,222.888l130.971-8.603 L256,90.687l49.2,123.599l131.124,8.602l-100.689,85.077l32.829,128.839L256,365.724z" />\n\t\t\t\t\t\t\t\t</svg>'}i+=`<span style="margin-left: 3px">(${n})</span> </span></a>`,s.innerHTML=i}(t)))}else if("reward"===n){let t=r.api_key||null,n=r.platform||null,i=r.customer_id||nector_params.customer_id||o&&o.get("nector_inject_id")||null,a=r.websdk_url||"https://websdk.nector.io",l=r.platform_url||"https://platform.nector.io",s=r.font_name||null,c=r.font_url||null;if(!t)return;let d=`${a}/nector/rewards/?murl=${l}&mkey=${t}`;const u=new URLSearchParams;n&&u.set("mi",n),i&&u.set("customer_id",i),s&&c&&(u.set("font_name",s),u.set("font_url",c)),[...u.keys()].length>0&&(d+=`&${u.toString()}`),function(){let t=document.createElement("div");e.parentNode.insertBefore(t,e);const r=document.createElement("script");r.setAttribute("src","https://cdn.nector.io/nector-static/js/iframeResizer.min.js"),r.setAttribute("async",""),r.onload=function(){const e=document.createElement("script");e.text="iFrameResize({ log: false, tolerance: 2 }, '#nector-rewards')",t.appendChild(e)},t.appendChild(r);const n=document.createElement("iframe");n.id="nector-rewards",n.setAttribute("src",d),n.style.width="100%",n.style.border="0px",t.appendChild(n)}()}else if("referral"===n){let t=r.api_key||null,n=r.platform||null,i=r.customer_id||nector_params.customer_id||o&&o.get("nector_inject_id")||null,a=r.websdk_url||"https://websdk.nector.io",l=r.platform_url||"https://platform.nector.io",s=r.font_name||null,c=r.font_url||null;if(!t)return;let d=`${a}/nector/referrals/?murl=${l}&mkey=${t}`;const u=new URLSearchParams;n&&u.set("mi",n),i&&u.set("customer_id",i),s&&c&&(u.set("font_name",s),u.set("font_url",c)),[...u.keys()].length>0&&(d+=`&${u.toString()}`),function(){let t=document.createElement("div");e.parentNode.insertBefore(t,e);const r=document.createElement("script");r.setAttribute("src","https://cdn.nector.io/nector-static/js/iframeResizer.min.js"),r.setAttribute("async",""),r.onload=function(){const e=document.createElement("script");e.text="iFrameResize({ log: false, tolerance: 2 }, '#nector-referrals')",t.appendChild(e)},t.appendChild(r);const n=document.createElement("iframe");n.id="nector-referrals",n.setAttribute("src",d),n.style.width="100%",n.style.border="0px",t.appendChild(n)}()}else if("buywithcoinsbutton"===n){let n=r.api_key||null,o=r.platform||"",i=r.customer_id||nector_params.customer_id||"",a=r.platform_url||"https://platform.nector.io",l=r.target_element_id||nector_params.target_element_id,s=r.price||nector_params.price||"",c=r.product_id||nector_params.product_id||"",d=r.buy_button_selector||nector_params.buy_button_selector||"",u=r.buywithcoins_button_classes||nector_params.buywithcoins_button_classes||"",p=r.animate_buywithcoins_button||nector_params.animate_buywithcoins_button||"",m=r.page_type||nector_params.page_type||"";if(!n)return;let _=document.createElement("div");_.innerHTML=`\n\t\t\t\t<div\n\t\t\t\t\tid="${l||"nector-buywithcoinsbutton-container"}"\n\n\t\t\t\t\tdata-price="${s}"\n\t\t\t\t\tdata-product_id="${c}"\n\t\t\t\t\tdata-buy_button_selector="${d}"\n\t\t\t\t\tdata-buywithcoins_button_classes="${u}"\n\t\t\t\t\tdata-animate_buywithcoins_button="${String(p)}"\n\t\t\t\t\tdata-page_type="${m}"\n\n\t\t\t\t\tdata-api_key="${n}"\n\t\t\t\t\tdata-customer_id="${i}"\n\t\t\t\t\tdata-platform="${o}"\n\t\t\t\t\tdata-platform_url="${a}"\n\t\t\t\t></div>\n\t\t\t`,e.parentNode.insertBefore(_,e);let f="";f=a&&a.includes("stageplatform.nector.io")?"https://cdn.nector.io/nector-static/no-cache/stagereward-widget/package/buywithcoinsbutton.min.js":"https://cdn.nector.io/nector-static/no-cache/reward-widget/package/buywithcoinsbutton.min.js",l&&(f+=`?target_element_id=${l}`),t(f,!1,!1,!0)}else if("giftcardbutton"===n){let n=r.api_key||null,o=r.platform||"",i=r.customer_id||nector_params.customer_id||"",a=r.platform_url||"https://platform.nector.io",l=r.applydiscount_input_selector||nector_params.applydiscount_input_selector||"",s=r.applydiscount_button_selector||nector_params.applydiscount_button_selector||"",c=r.applydiscount_strategy||nector_params.applydiscount_strategy||"";if(!n)return;let d=document.createElement("div");d.innerHTML=`\n\t\t\t\t<div \n\t\t\t\t\tid="nector-giftcard-container"\n\t\t\t\t\tdata-api_key="${n}"\n\t\t\t\t\tdata-customer_id="${i}"\n\t\t\t\t\tdata-platform="${o}"\n\t\t\t\t\tdata-platform_url="${a}"\n\n\t\t\t\t\tdata-applydiscount_input_selector="${l}"\n\t\t\t\t\tdata-applydiscount_button_selector="${s}"\n\t\t\t\t\tdata-applydiscount_strategy="${c}"\n\t\t\t\t></div>\n\t\t\t`,e.parentNode.insertBefore(d,e);let u="";u=a&&a.includes("stageplatform.nector.io")?"https://cdn.nector.io/nector-static/no-cache/stagereward-widget/package/giftcardbutton.min.js":"https://cdn.nector.io/nector-static/no-cache/reward-widget/package/giftcardbutton.min.js",t(u,!1,!1,!0)}else if("checkoutpageslider"===n){let n=r.api_key||null,o=r.platform||"",i=r.customer_id||nector_params.customer_id||"",a=r.platform_url||"https://platform.nector.io",l=r.applydiscount_input_selector||nector_params.applydiscount_input_selector||"",s=r.applydiscount_button_selector||nector_params.applydiscount_button_selector||"",c=r.applydiscount_strategy||nector_params.applydiscount_strategy||"";if(!n)return;let d=document.createElement("div");d.innerHTML=`\n\t\t\t\t<div \n\t\t\t\t\tid="nector-checkoutpageslider-container"\n\t\t\t\t\tdata-api_key="${n}"\n\t\t\t\t\tdata-customer_id="${i}"\n\t\t\t\t\tdata-platform="${o}"\n\t\t\t\t\tdata-platform_url="${a}"\n\n\t\t\t\t\tdata-applydiscount_input_selector="${l}"\n\t\t\t\t\tdata-applydiscount_button_selector="${s}"\n\t\t\t\t\tdata-applydiscount_strategy="${c}"\n\t\t\t\t></div>\n\t\t\t`,e.parentNode.insertBefore(d,e);let u="";u=a&&a.includes("stageplatform.nector.io")?"https://cdn.nector.io/nector-static/no-cache/stagereward-widget/package/checkoutpageslider.min.js":"https://cdn.nector.io/nector-static/no-cache/reward-widget/package/checkoutpageslider.min.js",t(u,!1,!1,!0)}}}()})();