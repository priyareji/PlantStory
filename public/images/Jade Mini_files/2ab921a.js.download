!function(){var e;function t(e){e||(e={});const t=e.hide_oos_m_settings||{...window.hide_oos_m_settings},o=e.hide_oos_t_settings||{...window.hide_oos_t_settings};let a=Number(o.hide_oos_qty_threshold||t.hide_oos_qty_threshold||0);void 0!==window.hide_oos_qty_threshold&&(a=Number(window.hide_oos_qty_threshold));const i=e.hide_oos_query_selectors||{...window.hide_oos_query_selectors||{}};let s=e.hide_oos_extras||{...window.hide_oos_extras||{}};s.always_hide=e.always_hide||s.always_hide||t.always_hide,s.always_show=e.always_show||s.always_show||t.always_show,s.schedule_hide=e.schedule_hide||s.schedule_hide||t.schedule_hide||{},s.always_hide_show_field=e.always_hide_show_field||s.always_hide_show_field||t.always_hide_show_field||"variant_title",s.exclude_tags=s.exclude_tags||t.exclude_tags||"",s.include_only_hide_show_field=s.include_only_hide_show_field||t.include_only_hide_show_field,s.option_disable=s.option_disable||t.option_disable,s.append_soldout_text=s.append_soldout_text||t.append_soldout_text,s.append_unavailable_text=s.append_unavailable_text||t.append_unavailable_text,s.hide_in_safari=s.hide_in_safari||t.hide_in_safari,s.hide_unavailable=s.hide_unavailable||t.hide_unavailable,s.version=s.version||t.version,s.integrates_with=s.integrates_with||t.integrates_with,s.variant_change_delay=Number(s.variant_change_delay||10),s.version&&"string"==typeof s.version&&(s.version=Number(s.version.replace("v",""))),"boolean"==typeof s.include_only_hide_show_field&&(s.include_only_hide_show_field=!0===s.include_only_hide_show_field?"yes":""),s.hide_specific_variants=s.hide_specific_variants||t.hide_specific_variants;const n=window.hoosObj||{product:e.product||o.product,hide_oos_variant_qty:e.hide_oos_variant_qty||(Array.isArray(window.hide_oos_variant_qty)?[...window.hide_oos_variant_qty]:void 0),mainContainer:e.mainContainer||window.mainHoosContainer||i.mainContainer||null,params:e,query_selectors:i,selector_type:i.selector_type||o.selector_type||t.selector_type||"",original_selector_type:i.selector_type||o.selector_type||t.selector_type||"",field_selector:i.field_selector||window.hide_oos_field_selector||o.field_selector||t.field_selector||"",click_label_path:i.click_label_path||"",unavailable_label_path:i.unavailable_label_path||"",input_elem_path_from_label:i.input_elem_path_from_label||"",input_selector:i.input_selector||window.hide_oos_input_selector,swatch_input_selector:i.swatch_input_selector||window.swatch_input_selector,swatch_picker_for:i.swatch_picker_for||window.swatch_picker_for,hide_oos_product_json_selector:window.hide_oos_product_json_selector||"",selected_or_first_available_variant_id:window.selected_or_first_available_variant_id||"",theme_name:o.theme_name||t.theme_name||"",other_theme_name:o.other_theme_name||t.other_theme_name||"",hide_oos_variants:o.hide_oos_variants||t.hide_oos_variants||!1,variant_action:o.variant_action||t.variant_action||"",timeout_interval:window.hoos_timeout_interval||s.hoos_timeout_interval||0,hide_oos_check_qty:window.hide_oos_check_qty||o.hide_oos_check_qty||t.hide_oos_check_qty||!1,hide_oos_qty_threshold:a,reverse_options:o.reverse_options||t.reverse_options||!1,extras:s,selectors:[],selectors_metadata:[],availableVariants:[],markedUnavailableVariants:[],productOptions:{option1:{},option2:{},option3:{}},selectedProductOptions:{option1:null,option2:null,option3:null},previousProductOptions:{option1:null,option2:null,option3:null},unavailable_class:o.unavailable_class||t.unavailable_class||"hide-oos-disable",isSafari:!1,defaultUnavailableClass:"hide-oos-disable",camouflageUnavailableClass:"camouflage-unavailable",camouflageMarkedUnavailableClass:"camouflage-marked-unavailable",makeSelectionNoHideClass:"camouflage-no-hide",unavailableClass:o.unavailable_class||t.unavailable_class||"hide-oos-disable",hiddenInputFieldForVariantID:void 0,mappedLabels:[[]],enableDisabledSelectorsArr:[],hide_variants_options_arr:e.hide_variants_options_arr,hide_variants_options:{}};let r=/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent);if(r||(r=/iphone/i.test(navigator.userAgent)||/ipad/i.test(navigator.userAgent)),n.isSafari=r,"boolean"==typeof n.extras.hide_oos_variants&&r&&(n.hide_oos_variants=n.extras.hide_oos_variants),r&&!n.extras.delay&&(n.extras.delay=100),n.extras.hide_oos_product_json_selector&&(n.hide_oos_product_json_selector=n.extras.hide_oos_product_json_selector),"strike-through-disabled"===n.variant_action&&(n.extras.disabled=!0),Array.isArray(n.hide_variants_options_arr))for(const l of n.hide_variants_options_arr)n.hide_variants_options[l.name.trim()]=l.values.split(",").map(e=>e.trim());return!n.extras.hide_specific_variants&&["hide"].includes(n.variant_action)&&(n.extras.hide_specific_variants="hide"),n.extras.hide_specific_variants=n.extras.hide_specific_variants||n.variant_action||"hide",(!n.extras.version||n.extras.version<2)&&(e.no_hoos_obj||(window.hoosObj=n)),window.CAMOUFLAGEE.items.push(n),window.hide_oos_extras=null,window.hide_oos_query_selectors=null,n}window.CAMOUFLAGEE=window.CAMOUFLAGEE||{items:[]},window.CAMOUFLAGEE.getHoosObj=t,e={getHoosObj:t};var o;function a({hoosObj:e}){let t=e.product,o=e.extras.exclude_tags;if(e.extras&&o&&o.length){let e=t.tags;Array.isArray(e)||(e=e.split(",").map(e=>e.trim())),Array.isArray(o)||(o=o.split(",").map(e=>e.trim()));for(let t of o)if(e.includes(t))return!1}e.reverse_options&&(t=function(e){e.options=e.options.reverse();for(let t of e.variants){if(2===t.options.length){let e=t.option1;t.option1=t.option2,t.option2=e}else if(3===t.options.length){let e=t.option1;t.option1=t.option3,t.option3=e}t.options=t.options.reverse()}return e}(t));try{const e=window.parent.location?window.parent.location.pathname:"";if(t.options.length>1&&!e.startsWith("/admin")&&"codecrux hide oos"!==window.hide_oos_enabled)return!1}catch(l){console.error(l)}let a=!1;if(e.hide_oos_variant_qty&&e.hide_oos_variant_qty.length===t.variants.length){for(let o=0;o<t.variants.length;o++)t.variants[o].inventory_quantity=e.hide_oos_variant_qty[o];a=!0}const i=Intl.DateTimeFormat().resolvedOptions().timeZone,s=new Date((new Date).toLocaleString("en-US",{timeZone:i}));let n=[],r=t.variants.filter(o=>{if(e.extras.always_show&&Array.isArray(e.extras.always_show)&&e.extras.always_show.length){let t,a=e.extras.always_hide_show_field;const i=e.extras.always_show[0].split("key_field:");if(2===i.length&&(a=i[1].trim()),t="sku"===a?e.extras.always_show.find(e=>o.sku==e):"id"===a?e.extras.always_show.find(e=>o.id==e):e.extras.always_show.find(e=>o.title.includes(e)))return!0}if(e.extras.always_hide&&Array.isArray(e.extras.always_hide)&&e.extras.always_hide.length){let t,a=e.extras.always_hide_show_field;const i=e.extras.always_hide[0].split("key_field:");if(2===i.length&&(a=i[1].trim()),t="sku"===a?e.extras.always_hide.find(e=>o.sku==e):"id"===a?e.extras.always_hide.find(e=>o.id==e):e.extras.always_hide.find(e=>o.title.includes(e)))return n.push(o.id),!1}const r=e.extras.schedule_hide?e.extras.schedule_hide.variants:null;if(r&&"object"==typeof r&&o.id in r){const e=new Date(new Date(r[o.id].from).toLocaleString("en-US",{timeZone:i})),t=new Date(new Date(r[o.id].to).toLocaleString("en-US",{timeZone:i}));if(s>=e&&s<=t)return n.push(o.id),!1}const l=e.hide_variants_options;for(let e=0;e<t.options.length;e++)if(t.options[e]in l&&l[t.options[e]].includes(o.options[e]))return n.push(o.id),!1;return!(e.hide_oos_check_qty&&e.hide_oos_qty_threshold&&a&&o.inventory_quantity<=e.hide_oos_qty_threshold)&&("yes"===e.extras.include_only_hide_show_field||!0===e.extras.include_only_hide_show_field||"none"===e.variant_action&&"yes"===e.extras.hide_unavailable||o.available)});if(e.selected_or_first_available_variant_id){let t=r.find(t=>t.id==e.selected_or_first_available_variant_id);t&&(r=[t,...r.filter(e=>e.id!=t.id)])}if(n.length&&("hide"===e.extras.hide_specific_variants||e.extras.version>=4)){e.markedUnavailableVariants=n;for(const t of e.product.variants)n.includes(t.id)&&(t.marked_unavailable=!0)}if(window.getCamouflageAvailableVariants&&"function"==typeof window.getCamouflageAvailableVariants){const o=window.getCamouflageAvailableVariants(e.product,r);o.availableVariants&&o.product&&(r=o.availableVariants,t=o.product)}for(let c of r){e.extras.lowercase_value&&(c.option1=c.option1?c.option1.toLowerCase():c.option1,c.option2=c.option2?c.option2.toLowerCase():c.option2,c.option3=c.option3?c.option3.toLowerCase():c.option3,c.options=c.options.map(e=>e.toLowerCase()));let t=1;c.available||(t=2),e.productOptions.option1[c.option1]=t,c.option2&&(e.productOptions.option2[c.option2]=t),c.option3&&(e.productOptions.option3[c.option3]=t)}return e.product=t,e.availableVariants=r,r}function i(e){return["hide","disable","strike-through-disabled"].includes(e.extras.hide_specific_variants)}function s(e){return e.product.variants.some(e=>e.marked_unavailable)&&["hide"].includes(e.extras.hide_specific_variants)}function n(e){return e&&"function"!=typeof e&&(e.indexOf("'")>=0||e.indexOf('"')>=0)&&window.CSS&&window.CSS.escape&&"function"==typeof window.CSS.escape&&(e=CSS.escape(e)),e}const r=(e,t=!1)=>!!(e.isSafari&&e.hide_oos_variants&&"boolean"==typeof e.hide_oos_variants||!t||s(e))&&(1===e.product.options.length||"hide"===e.extras.hide_in_safari),l=({option:e,markedUnavailable:t,hoosObj:o})=>{if(["strike-through","strike-through-disabled"].includes(o.variant_action))return;if(!o.isSafari||"OPTION"!==e.nodeName)return;if("SPAN"===e.parentElement.nodeName)return;if(!r(o,t))return;const a=document.createElement("span");e.parentNode.insertBefore(a,e),a.appendChild(e)};window.CAMOUFLAGEE.getAvailableVariants=a,o={updateAppIntegration:function(e){const t=e.extras.integrates_with;!Object.keys(e.query_selectors).length&&t&&("globo-swatch"===t?"radio"===e.selector_type&&(e.mainContainer=".globo-swatch-list",e.extras.target_parent_element=!0,e.field_selector=".globo-swatch-list ul",e.input_selector="input"):"pagefly"===t||("vopo"===t?"radio"===e.selector_type&&(e.mainContainer="#bcpo",e.field_selector="#bcpo .single-option-selector[data-option]",e.input_selector="input",e.extras.target_parent_element=!0):"ymq"===t&&"radio"===e.selector_type&&(e.mainContainer="#ymq-box",e.field_selector="#ymq-box .ymq-shopify-option-box",e.input_selector="input")))},getMainContainer:function(){const e=["variant-radios","variant-selects",".product-form product-variants","main[role=main] form","body"];for(let t of e){const e=document.querySelector(t);if(e){if(e.clientHeight<10||e.clientWidth<10)continue;return e}}return null},getMainContainerFromString:async function(e){let t,o=0;return new Promise((a,i)=>{const s=setInterval(()=>{o+=100,((t=document.querySelector(e))||o>=4e3)&&(a(t),clearInterval(s))},100)})},getPageBuilderSelector:function(){const e=[".pf-option-swatches select",".pf-option-swatches"];for(let t of e)if(document.querySelector(t))return t;return null},getDefaultSelector:function(e){const t=[".shg-product-selector-wrapper .shg-product-selector-inline-wrapper select",".pf-option-swatches select","select.camouflage-container","variant-selects fieldset.product-form__input select","variant-selects select","product-variants .product-variant select","#product-description .product-form__input--dropdown select",".Product .Product__Block--variantPicker .ProductForm__Option select",".product-block-variant-picker fieldset.product-variant-picker-block label + select","fieldset.product-variant-picker-block  label + select",".product-block-variant-picker label + select",".product-information .variations fieldset select",".product-block--variant_picker .option-dropdown select",".product-options[data-product-options] .product-option select","div[data-aid='full-product-options'] > div select","variant-selection select.options-selection__input-select","form div.product-form__input--dropdown select","select.single-option-selector",".selector-wrapper select","select.product-form__single-selector","select.product-variant-container",".variant-wrapper select",".product-variant-picker-block select","div.product-options-style-select select[data-product-option]","label + select"],o=[".camouflage-container","#bcpo .single-option-selector[data-option]","#ymq-box .ymq-shopify-option-box",".globo-swatch-list ul","variant-radios fieldset","options-selection fieldset","variant-selects fieldset.product-form__input",".product-information variant-selects .variations fieldset","product-variants .product-form__option-selector","product-root .product-options--option","product-selector .main-product__form-group","product-option-picker","#product-description .swatches__container",".Product .Product__Block--variantPicker .ProductForm__Option",".product-options[data-product-options] .product-option",".product[data-section-type='product'] .product__option",".product-block-variant-picker fieldset.product-variant-picker-block",".product-block--variant_picker fieldset","product-variants .product-variants .product-variant__container",".product-detail__options fieldset",".variant-wrapper fieldset",".form__selectors .selector-wrapper fieldset",".product_form .swatch_options .swatch",".product-swatches .form-field-swatch",".product-option-selector .product-loop-variants","fieldset.product-variant-picker-block","variant-picker .variant-picker__option-values","variant-picker fieldset.variant-picker__option","form .product-form__controls-group--options .product-form__option","product-variant-selector product-option-picker",".option-selector .option-selector__btns","form fieldset .option-values","div[data-aid='full-product-options'] > div",".product-variant",".selector-wrapper fieldset",".swatches-wrapper fieldset",".swatch-options .swatch",".option-selectors fieldset.option-selector-fieldset",".swatches__container",".product-single__swatches .product-single__swatch",".product-form.mfp-link .swatch[data-option-index]","product-variant-selector [class*=product-variant-selector-item-body]",".product__variants-swatches .swatch.js-variant-selector","div[data-product-options-container] fieldset",".swatch.selectors","label + fieldset",".variant-wrapper",".variant-input",".swatch"],a=["#bcpo .single-option-selector[data-option]","product-variants .product-form__option-selector",".form__selectors .selector-wrapper fieldset",".globo-swatch-list ul",".product-single__swatches .product-single__swatch",".product-form.mfp-link .swatch[data-option-index]","product-variants .product-variants .product-variant__container","variant-picker .variant-picker__option-values","product-variant-selector product-option-picker",".product__variants-swatches .swatch.js-variant-selector","div[data-product-options-container] fieldset"];if("select"===e.selector_type){for(let i of t)if([...e.mainContainer.querySelectorAll(i)].length===e.product.options.length)return i}else if("radio"===e.selector_type){for(let i of o)if([...e.mainContainer.querySelectorAll(i)].length===e.product.options.length)return a.includes(i)&&(e.extras.target_parent_element=!0),i}else{const o=[".shg-product-selector-wrapper .shg-product-selector-inline-wrapper select",".pf-option-swatches select","#bcpo .single-option-selector[data-option]","#ymq-box .ymq-shopify-option-box","select.camouflage-container","variant-radios fieldset",".product-information variant-selects .variations fieldset","variant-selects fieldset.product-form__input select","variant-selects fieldset.product-form__input","variant-selects select","options-selection fieldset","product-variants .product-form__option-selector","product-variants .product-variant select","variant-selection select.options-selection__input-select","product-variants .product-variant","product-root .product-options--option","product-selector .main-product__form-group","product-option-picker","#product-description .swatches__container","#product-description .product-form__input--dropdown select",".Product .Product__Block--variantPicker .ProductForm__Option select",".Product .Product__Block--variantPicker .ProductForm__Option",".product-block-variant-picker fieldset.product-variant-picker-block label + select",".product-block-variant-picker fieldset.product-variant-picker-block","fieldset.product-variant-picker-block  label + select","fieldset.product-variant-picker-block",".product-block--variant_picker .option-dropdown select",".product-block--variant_picker fieldset",".product-information .variations fieldset select",".variant-wrapper fieldset",".form__selectors .selector-wrapper fieldset",".product-options[data-product-options] .product-option select",".product-options[data-product-options] .product-option",".product[data-section-type='product'] .product__option","product-variant-selector product-option-picker","div[data-aid='full-product-options'] > div select","div[data-aid='full-product-options'] > div",".product_swatches .swatch",".product-detail__options fieldset",".product_form .swatch_options .swatch",".product-swatches .form-field-swatch",".product-option-selector .product-loop-variants","form .product-form__controls-group--options .product-form__option",".option-selector .option-selector__btns","form div.product-form__input--dropdown select","form fieldset .option-values",".variant-wrapper select",".product-block-variant-picker label + select","variant-picker .variant-picker__option-values","variant-picker fieldset.variant-picker__option",".product__variants-swatches .swatch.js-variant-selector",".swatch-options .swatch",".option-selectors fieldset.option-selector-fieldset",".swatches__container",".product-single__swatches .product-single__swatch",".product-form.mfp-link .swatch[data-option-index]","product-variant-selector [class*=product-variant-selector-item-body]","select.product-variant-container","select.single-option-selector",".selector-wrapper select",".product-variant-picker-block select","div.product-options-style-select select[data-product-option]","div[data-product-options-container] fieldset",".selector-wrapper fieldset","label + fieldset","label + select",".variant-wrapper",".variant-input",".swatches-wrapper fieldset"];for(let i of o)if([...e.mainContainer.querySelectorAll(i)].length===e.product.options.length)return t.includes(i)?e.selector_type="select":e.selector_type="radio",a.includes(i)&&(e.extras.target_parent_element=!0),i}return null},getAvailableVariants:a,setSelectors:function(e){let{selectors:t,enableDisabledSelectorsArr:o}=e;t.length||(o=(t=[...e.mainContainer.querySelectorAll(e.field_selector)]).slice(),"radio"===e.selector_type?t=t.map(e=>[...e.querySelectorAll("input[type=radio]")]):"select"!==e.selector_type&&(t=t.map(t=>[...t.querySelectorAll(e.input_selector)]))),e.reverse_options&&(t=t.reverse(),o=o.reverse()),e.enableDisabledSelectorsArr=o,e.selectors=t},handleForMarkUnavailable:function(e){if(s(e)){const e=document.createElement("style");e.innerHTML=".camouflage-marked-unavailable {display: none !important;}",document.head.appendChild(e)}},updateExtraObj:function(e){if(!0!==e.hide_oos_variants&&"hide"!==e.variant_action||"radio"!==e.selector_type||window.hide_oos_input_selector||(e.extras.disabled=!0),"boolean"==typeof e.extras.radio_disabled&&(e.extras.disabled=e.extras.radio_disabled),"select"===e.selector_type||e.extras.target_parent_element)return;const{selectors:t}=e;if(t&&t[0]&&t[0][0]&&t[0][0].value){if("INPUT"===t[0][0].nodeName)return;const o=t[0][0].parentElement.getAttribute("data-value");if(!o||!o.value)return;t[0][0].value===o.value&&(e.extras.target_parent_element=!0)}},labelHideShow:function(e,t,o="hide",a=!0,i=!1){if(!t)return;const{defaultUnavailableClass:n,unavailableClass:r,camouflageUnavailableClass:l,camouflageMarkedUnavailableClass:c}=e;if(!(!1!==a||"yes"!==e.extras.include_only_hide_show_field||"yes"===e.extras.hide_unavailable||i&&s(e)))return;const d=[r,n];let h=e.extras.target_parent_element,p=!0===e.extras.target_parent2_element||"yes"===e.extras.target_parent2_element;"swatch_and_dropdown_mixed"===e.original_selector_type&&e.selectors_metadata&&e.selectors_metadata.length?"prestige-popover"===e.theme_name&&"BUTTON"===t.nodeName&&(h=!1):t&&"OPTION"===t.nodeName&&(h=!1),"hide"===o?(a?i&&d.push(c):d.push(l),t.classList.add(...d),h&&t.parentElement.classList.add(...d),p&&t.parentElement.parentElement.classList.add(...d)):(d.push(l,c),t.classList.remove(...d),h&&t.parentElement.classList.remove(...d),p&&t.parentElement.parentElement.classList.remove(...d));const _=new CustomEvent("hoos:labelhideshow",{detail:o});document.dispatchEvent(_)},getProduct:async function(e){if(window.getCamouflageProduct&&"function"==typeof window.getCamouflageProduct)return e.product=await window.getCamouflageProduct(e.product),e.product;if(e.extras&&e.extras.hide_oos_product_json_selector){const t=document.getElementById(e.extras.hide_oos_product_json_selector);if(t)return e.product=JSON.parse(t.innerHTML),e.product}return e.product},fireCamouflageExecutedEvent:function(e){if(window.CustomEvent){e.currentTime=(new Date).getTime();const t=new CustomEvent("hoos:executed",{detail:e});document.dispatchEvent(t)}},fireCamouflageHoosObjPreparedEvent:function(e){if(window.CustomEvent){const t=new CustomEvent("hoos:prepared",{detail:e});document.dispatchEvent(t)}},getCSSEscapedValue:n,checkIfShouldRun:function(e){return!(!e.extras.should_run&&!s(e)&&("yes"===e.extras.include_only_hide_show_field&&"yes"!==e.extras.hide_unavailable&&e.availableVariants.length===e.product.variants.length||"none"===e.variant_action&&"yes"!==e.extras.include_only_hide_show_field&&"yes"!==e.extras.hide_unavailable))},shouldHideMarkUnavailable:s,shouldDisableMarkUnavailable:i,sleep:e=>new Promise(t=>setTimeout(t,e)),wrapSelectOption:l,unwrapSelectOption:({option:e,hoosObj:t})=>{if(!t.isSafari||"OPTION"!==e.nodeName)return;const o=e.parentElement;if("SPAN"!==o.nodeName)return;const a=document.createDocumentFragment();for(;o.firstChild;){const e=o.removeChild(o.firstChild);a.appendChild(e)}o.parentNode.replaceChild(a,o)},checkAndHandleOptionDisable:({option:e,variantExists:t=!0,markedUnavailable:o=!1,hoosObj:a,isSelectedValue:s,allSoldout:n})=>{if(!(!1!==t||"yes"===a.extras.hide_unavailable||"yes"!==a.extras.include_only_hide_show_field||o&&i(a)))return;let r=a.extras.append_soldout_text;t||(r=a.extras.append_unavailable_text||r),r&&!e.innerText.includes(r)&&(e.dataset.camouflageoptiontext||(e.dataset.camouflageoptiontext=e.innerText.trim()),e.innerText+=r),"no-disable"===a.extras.option_disable&&(t||"yes"!==a.extras.hide_unavailable)||(e.disabled=!0,n&&s||l({option:e,markedUnavailable:o,hoosObj:a}))},shouldHideInSafari:r,triggerChangeEventOnSelect:(e,t,o,a)=>{let i=a.selector_type;if(e&&"SELECT"===e.nodeName&&(i="select"),"select"===i){if("function"==typeof e)return;t=n(t);let o=e.querySelector(`[value='${t}']`);if(o){o.selected=!0;const t=new Event("change",{bubbles:!0});e.dispatchEvent(t)}}else{let i=e.find(e=>e.value==t);if(i){i.checked=!0;const e=new Event("change",{bubbles:!0});i.dispatchEvent(e)}if(a.extras.radio_mapped_select_selector&&!0===a.extras.map_select_with_radio){let e=document.querySelectorAll(a.extras.radio_mapped_select_selector);if(e&&e.length===a.selectors.length){t=n(t);let a=e[o].querySelector(`option[value=${t}]`);if(a){a.selected=!0;const t=new Event("change",{bubbles:!0});e[o].dispatchEvent(t)}}}}}};const{getHoosObj:c}=e,{getDefaultSelector:d,getMainContainer:h,getPageBuilderSelector:p,getAvailableVariants:_,setSelectors:u,labelHideShow:b,getProduct:m,updateExtraObj:v,fireCamouflageExecutedEvent:f,getCSSEscapedValue:y,fireCamouflageHoosObjPreparedEvent:w,updateAppIntegration:g,getMainContainerFromString:O,checkIfShouldRun:j,shouldDisableMarkUnavailable:x,shouldHideMarkUnavailable:C,handleForMarkUnavailable:k,sleep:S,wrapSelectOption:q,unwrapSelectOption:E,checkAndHandleOptionDisable:A,shouldHideInSafari:P,triggerChangeEventOnSelect:V}=o;class U{constructor(e,t,o){this.hoosObj=e,this.hiddenInputFieldForVariantID=t,this.isSafari=o}updateConfigurationForSelectedThemes(){let e=this.hoosObj;if(!Object.keys(e.query_selectors).length){let t=e.theme_name||window.themeName||"";(t=t.toLowerCase()).includes("symmetry")?(e.selector_type="radio",e.field_selector="fieldset .option-selector__btns",e.input_selector="input",e.mainContainer=document.body,e.unavailableClass="is-unavailable"):"venue"===t?(e.selector_type="radio",e.field_selector=".product-form__swatch"):"avenue"===t&&"radio"===e.selector_type?e.extras.target_parent_element=!0:"expression"===t?(e.selector_type="radio",e.field_selector="fieldset .option-selector__btns",e.unavailableClass="is-unavailable"):"prestige"===t?(e.selector_type="radio",e.field_selector=".ProductForm__Variants ul",e.extras.target_parent_element=!0,e.timeout_interval=500,e.unavailableClass="camouflage-special-swatch-A"):"warehouse"===e.theme_name&&"radio"===e.selector_type?(e.field_selector=".product-form__variants .product-form__option[data-selector-type]",e.mainContainer=document.body,e.extras.target_parent_element=!0):"flex"===e.theme_name&&"radio"===e.selector_type?(e.field_selector="options-selection fieldset",e.mainContainer=document.body,e.extras.target_parent_element=!0):"flow"===e.theme_name&&"radio"===e.selector_type?(e.field_selector=".swatch-items-wrapper",e.mainContainer=document.body,e.extras.target_parent_element=!0):"broadcast 3.x"===e.theme_name&&"radio"===e.selector_type?(e.field_selector=".selector-wrapper fieldset",e.mainContainer=document.querySelector(".product__form__holder")||document.querySelector('form[action="/cart/add"]')||document.body,e.extras.target_parent_element=!0):"masonry"===e.theme_name&&"select"===e.selector_type?(e.field_selector=".productoptions .option-selectors select",e.mainContainer=document.querySelector(".productoptions .option-selectors")||document.body):"impulse"===e.theme_name&&"hide-oos-disable"===e.unavailableClass?(e.unavailableClass="disabled",e.extras.redisable_options_onchange=!0):"motion"===e.theme_name&&"hide-oos-disable"===e.unavailableClass?(e.unavailableClass="disabled",e.timeout_interval=1e3):"expanse"===e.theme_name&&"hide-oos-disable"===e.unavailableClass?e.unavailableClass="disabled":"expression"===e.theme_name&&"hide-oos-disable"===e.unavailableClass?e.unavailableClass="is-unavailable":"local"===e.theme_name?(e.mainContainer=document.querySelector("product-variants")||document.body,"radio"===e.selector_type&&(e.extras.target_parent_element=!0)):"pursuit"===e.theme_name&&"hide-oos-disable"===e.unavailableClass?(e.mainContainer=document.querySelector(".product-form")||document.body,e.unavailableClass="soldout","radio"===e.selector_type&&(e.extras.target_parent_element=!0)):"forge"===e.theme_name?(e.timeout_interval=500,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="soldout")):["habitat","showtime"].includes(e.theme_name)&&"hide-oos-disable"===e.unavailableClass?(e.unavailableClass="camouflage-special-swatch-B","showtime"===e.theme_name&&(e.selector_type="radio")):"minion"===e.theme_name&&"radio"===e.selector_type?e.extras.target_parent_element=!0:"influence"===e.theme_name?(e.mainContainer=document.querySelector("product-form")||document.body,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="camouflage-special-swatch-B")):"shapes"===e.theme_name?(e.mainContainer=document.querySelector(".product-block-variant-picker")||document.body,"radio"===e.selector_type&&(e.extras.target_parent_element=!0,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="camouflage-special-swatch-B"))):"drop"===e.theme_name?(e.extras.target_parent_element=!0,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="soldout")):"beyond"===e.theme_name&&"radio"===e.selector_type?e.extras.target_parent_element=!0:"foodie"===e.theme_name?e.mainContainer=document.querySelector("#product-description")||document.body:"baseline"===e.theme_name?(e.mainContainer=document.querySelector(".product-content-container")||document.body,"radio"===e.selector_type&&(e.extras.target_parent_element=!0)):"avatar"===e.theme_name&&"radio"===e.selector_type||"highlight"===e.theme_name&&"radio"===e.selector_type?e.extras.target_parent_element=!0:"chord"===e.theme_name?(e.mainContainer=document.querySelector(".Product__Block--variantPicker")||document.body,"radio"===e.selector_type&&(e.extras.target_parent_element=!0,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="camouflage-special-swatch-A"))):"mojave"===e.theme_name?(e.mainContainer=document.querySelector("product-selector")||document.body,"radio"===e.selector_type&&(e.extras.target_parent_element=!0,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="camouflage-special-swatch-A"))):"tailor"===e.theme_name&&"radio"===e.selector_type||"palo-alto"===e.theme_name&&"radio"===e.selector_type||"responsive"===e.theme_name&&"radio"===e.selector_type?e.extras.target_parent_element=!0:"fashionopolism"===e.theme_name?(e.mainContainer=document.querySelector(".product__section-details")||document.body,"select"!==e.selector_type&&(e.extras.target_parent_element=!0,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="soldout"))):"capital"===e.theme_name&&"select"!==e.selector_type?(e.extras.target_parent_element=!0,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="camouflage-special-swatch-B")):"kingdom"===e.theme_name?e.mainContainer=document.querySelector("product-variants")||document.body:"envy"===e.theme_name&&"select"!==e.selector_type?(e.extras.target_parent_element=!0,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="soldout")):"galleria"===e.theme_name?"select"!==e.selector_type&&(e.mainContainer=document.querySelector("product-variant-selector")||document.body,e.extras.target_parent_element=!0,e.extras.variant_change_delay=500,e.extras.delay=500):["icon","mr-parker"].includes(e.theme_name)&&"radio"===e.selector_type?(e.mainContainer=document.querySelector(".product__variants-swatches")||document.body,e.selector_type="radio",e.field_selector=".swatches__container",e.extras.target_parent_element=!0):"yuva"===e.theme_name?(e.mainContainer=document.querySelector(".yv-main-product-detail")||document.body,e.extras.target_parent_element=!0,"hide-oos-disable"===e.unavailableClass&&(e.unavailableClass="camouflage-special-swatch-A")):"modular"===e.theme_name&&"radio"===e.selector_type&&(e.extras.target_parent_element=!0);const o=p();o&&(e.field_selector=o,e.mainContainer=document.body,o.includes("select")?e.selector_type="select":(e.selector_type="radio",e.extras.target_parent_element=!0))}}setFieldSelector(){this.hoosObj.field_selector=d(this.hoosObj)}disableElement(e,t=!1,o=!0){if(!e)return;if("boolean"==typeof this.hoosObj.extras.radio_disabled&&!1===this.hoosObj.extras.radio_disabled)return void console.debug("Must not disable, returning");let a=!1===this.hoosObj.extras.disabled;a&&t&&x(this.hoosObj)&&(a=!1),o||"yes"!==this.hoosObj.extras.hide_unavailable||(a=!1),!1===o&&"yes"===this.hoosObj.extras.include_only_hide_show_field&&"yes"!==this.hoosObj.extras.hide_unavailable&&(t&&C(this.hoosObj)||(a=!0)),a||(e.disabled=!0,e.checked=!1)}hideShowParentElement(e,t,o=!0,a=!1){if(!e&&(!1!==o||"yes"!==this.hoosObj.extras.include_only_hide_show_field||"yes"===this.hoosObj.extras.hide_unavailable||a)&&e&&"radio"===e.type&&!0===this.hoosObj.extras.target_parent_element){let i=e.parentElement;const s=["hide_oos--parent-hidden",this.hoosObj.defaultUnavailableClass];"hide"===t?(o?a&&s.push(this.hoosObj.camouflageUnavailableClass):s.push(this.hoosObj.camouflageUnavailableClass),i.classList.add(...s)):(s.push(this.hoosObj.camouflageUnavailableClass),i.classList.remove(...s))}}hideAllUnavailableVariants(){if("select"===this.hoosObj.selector_type?this.hoosObj.selectors.forEach(e=>{e.options&&[...e.options].forEach(e=>{b(this.hoosObj,e,"hide"),A({option:e,hoosObj:this.hoosObj})})}):this.hoosObj.selectors.forEach(e=>{e.forEach(e=>{if(!e)return;this.disableElement(e);const t=this.hoosObj.mainContainer.querySelector(`[for='${y(e.id)}]'`)||e.nextElementSibling;b(this.hoosObj,t,"hide"),this.hideShowParentElement(e,"hide")})}),window.CustomEvent){const e=new CustomEvent("hoos:alldisabled",{detail:this.hoosObj});document.dispatchEvent(e)}}hideUnavailableOption1(){if("select"===this.hoosObj.selector_type){const e=[...this.hoosObj.selectors[0].querySelectorAll("option")];for(let t of e){let e=t.value;if((!this.hoosObj.extras.select_attribute_name||1!==this.hoosObj.product.options.length||(e=t.getAttribute(this.hoosObj.extras.select_attribute_name)))&&(e&&"not-selected"!==e||!0!==this.hoosObj.extras.make_a_selection_required))if(e in this.hoosObj.productOptions.option1)t.disabled=!1;else{if(t.classList.contains(this.hoosObj.makeSelectionNoHideClass))continue;let e=!0,o=!1;o=1===this.hoosObj.product.options.length?this.hoosObj.product.variants.some(e=>e.options[0]===t.value&&e.marked_unavailable):this.hoosObj.product.variants.filter(e=>e.options[0]===t.value).every(e=>e.marked_unavailable),b(this.hoosObj,t,"hide",e,o),A({option:t,variantExists:e,markedUnavailable:o,hoosObj:this.hoosObj})}}}else{const e=this.hoosObj.selectors[0];for(let t of e)if(t.value in this.hoosObj.productOptions.option1)t.disabled=!1;else{let e=!0,o=!1;o=1===this.hoosObj.product.options.length?this.hoosObj.product.variants.some(e=>e.options[0]===t.value&&e.marked_unavailable):this.hoosObj.product.variants.filter(e=>e.options[0]===t.value).every(e=>e.marked_unavailable),this.disableElement(t,o);const a=this.hoosObj.mainContainer.querySelector(`[for='${y(t.id)}']`)||t.nextElementSibling;b(this.hoosObj,a,"hide",e,o),this.hideShowParentElement(t,"hide",o)}}}hideFromVariantIdDropdown(){let e,t;if("select"===this.hoosObj.selector_type){const o=this.hoosObj.availableVariants,a=[...this.hoosObj.selectors[0].querySelectorAll("option")];t=this.hoosObj.selectors[0].value;for(let e of a){let t=e.value;if((!this.hoosObj.extras.select_attribute_name||(t=e.getAttribute(this.hoosObj.extras.select_attribute_name)))&&(t&&"not-selected"!==t))if(o.find(e=>e.id==t))e.disabled=!1;else{if(e.classList.contains(this.hoosObj.makeSelectionNoHideClass))continue;let o=!0,a=!1;a=1===this.hoosObj.product.options.length?this.hoosObj.product.variants.some(e=>e.id==t&&e.marked_unavailable):this.hoosObj.product.variants.filter(e=>e.id==t).every(e=>e.marked_unavailable),b(this.hoosObj,e,"hide",o,a),A({option:e,variantExists:o,markedUnavailable:a,hoosObj:this.hoosObj})}}const i=a.find(e=>!e.classList.contains("hide-oos-disable"));i&&(e=i.value)}return{firstAvailableVariantId:e,selectedVariantValue:t}}clickRadioLabel(e){try{const t=this.hoosObj.mainContainer.querySelector(`[for='${y(e.id)}']`)||e.nextElementSibling;t&&t.click()}catch(t){console.error(t)}}reDisableSoldSelectOption(){this.hoosObj.selectors.forEach(e=>{e.querySelectorAll("option.hide-oos-disable").forEach(e=>{e.value&&e.value,e.disabled=!0,"hide"===this.hoosObj.variant_action&&q({option:e,hoosObj:this.hoosObj})})})}handleReDisableSoldSelectOption(){if(!this.hoosObj.extras.redisable_options_onchange)return;let e=document.querySelector("variant-selection")||this.hoosObj.mainContainer.querySelector("[name=id]")||document.querySelector("[name=id]"),t="change";"retina"!==this.hoosObj.theme_name&&"flex"!==this.hoosObj.theme_name||(t="variant-change"),e&&(e.addEventListener(t,()=>{setTimeout(()=>{this.reDisableSoldSelectOption()},50)}),setTimeout(()=>{this.reDisableSoldSelectOption()},50))}setInitialSelection(e){if(!(this.hoosObj.extras.version&&this.hoosObj.extras.version>=2&&this.hiddenInputFieldForVariantID&&this.hiddenInputFieldForVariantID.value==e.id))if("select"===this.hoosObj.selector_type)for(let t in this.hoosObj.selectors)this.hoosObj.selectors[t].value=e.options[t],V(this.hoosObj.selectors[t],e.options[t],t,this.hoosObj);else for(let t=0;t<this.hoosObj.selectors.length;++t)for(let o of this.hoosObj.selectors[t]){let a=o.value===e.options[t];a&&this.clickRadioLabel(o),o.checked=a,o.checked&&V(this.hoosObj.selectors[t],e.options[t],t,this.hoosObj)}}hideSelectOptionBasedOnPrevChoice(e=1,t=null){const o=this.hoosObj.selectors.length;let a,i=[...this.hoosObj.availableVariants],s=[...this.hoosObj.product.variants];if("select"===this.hoosObj.selector_type){for(let n=1;n<o;n++)if(i=i.filter(e=>e.options[n-1]===this.hoosObj.selectors[n-1].value),s=s.filter(e=>e.options[n-1]===this.hoosObj.selectors[n-1].value),n>=e){let e=!0;const o=[...this.hoosObj.selectors[n].querySelectorAll("option")],r=this.hoosObj.selectors[n].value;let l;r&&(l=i.find(e=>r==e.options[n]))&&(a=l.id);for(let a of o)if(i.some(e=>e.options[n]===a.value)){if(!0===this.hoosObj.extras.make_a_selection_required&&!r)continue;if(e){if(e=!1,"yes"===this.hoosObj.extras.skip_variant_change&&"hide"!==this.hoosObj.variant_action)continue;const o=s.some(e=>e.options[n]===a.value&&e.marked_unavailable);let i=P(this.hoosObj,o);if(t&&!i&&"yes"!==this.hoosObj.extras.select_first_variant)continue;if(l&&!i&&"yes"!==this.hoosObj.extras.select_first_variant)continue;if(l&&"yes"!==this.hoosObj.extras.select_first_variant)continue;(this.hoosObj.selectors[n].value!==a.value&&a.value||i)&&(this.hoosObj.extras.add_selection_delay?setTimeout(()=>{this.hoosObj.selectors[n].value=a.value,V(this.hoosObj.selectors[n],a.value,n,this.hoosObj)},this.hoosObj.extras.selection_delay_time||500):(this.hoosObj.selectors[n].value=a.value,V(this.hoosObj.selectors[n],a.value,n,this.hoosObj)))}}else{if(a.classList.contains(this.hoosObj.makeSelectionNoHideClass))continue;if(!0===this.hoosObj.extras.make_a_selection_required&&(!a.value||"not-selected"===a.value))continue;const e=s.some(e=>e.options[n]===a.value),t=s.some(e=>e.options[n]===a.value&&e.marked_unavailable);b(this.hoosObj,a,"hide",e,t),A({option:a,variantExists:e,markedUnavailable:t,hoosObj:this.hoosObj})}}}else for(let n=1;n<o;n++){const o=this.hoosObj.selectors[n-1].filter(e=>e.checked)[0];if(!o)break;const r=o.value;if(i=i.filter(e=>e.options[n-1]===r),s=s.filter(e=>e.options[n-1]===r),n>=e){let e=!0;const o=this.hoosObj.selectors[n].find(e=>!0===e.checked);let r;o&&o.value&&(r=i.find(e=>o.value==e.options[n]))&&(a=r.id);for(let a of this.hoosObj.selectors[n]){if(!i.some(e=>e.options[n]===a.value)){const e=s.some(e=>e.options[n]===a.value),t=s.some(e=>e.options[n]===a.value&&e.marked_unavailable);this.disableElement(a,t,e);const o=this.hoosObj.mainContainer.querySelector(`[for='${y(a.id)}']`)||a.nextElementSibling;b(this.hoosObj,o,"hide",e,t),this.hideShowParentElement(a,"hide",e,t);continue}let l=!o&&!0===this.hoosObj.extras.make_a_selection_required;if("yes"===this.hoosObj.extras.continue_second_selector&&(l=!1),!l&&e){if(e=!1,"yes"===this.hoosObj.extras.skip_variant_change&&"hide"!==this.hoosObj.variant_action)continue;if(t&&"yes"!==this.hoosObj.extras.select_first_variant)continue;if(r&&"yes"!==this.hoosObj.extras.select_first_variant)continue;a.checked||(this.hoosObj.extras.add_selection_delay?setTimeout(()=>{this.clickRadioLabel(a),a.checked=!0,a.disabled=!1,V(this.hoosObj.selectors[n],a.value,n,this.hoosObj)},this.hoosObj.extras.selection_delay_time||500):(this.clickRadioLabel(a),a.checked=!0,a.disabled=!1,V(this.hoosObj.selectors[n],a.value,n,this.hoosObj)))}}}}if(a&&this.hiddenInputFieldForVariantID&&(this.hiddenInputFieldForVariantID.value=a,window.CustomEvent)){const e=new CustomEvent("hoos:variantchanged",{detail:{currentVariant:this.hoosObj.product.variants.find(e=>e.id==a),hoosObj:this.hoosObj}});document.dispatchEvent(e)}}enableDisabledSelectors(e=1){if("select"===this.hoosObj.selector_type){const t=this.hoosObj.selectors.slice(e);for(let e of t){const t=[...e.querySelectorAll("."+this.hoosObj.defaultUnavailableClass)];for(let e of t)e.dataset&&e.dataset.camouflageoptiontext&&(this.hoosObj.extras.append_soldout_text||this.hoosObj.extras.append_unavailable_text)&&(e.innerText=e.dataset.camouflageoptiontext),b(this.hoosObj,e,"show"),e.disabled=!1,E({option:e,hoosObj:this.hoosObj})}}else{let t=[...this.hoosObj.mainContainer.querySelectorAll(this.hoosObj.field_selector)];this.hoosObj.reverse_options&&(t=t.reverse()),t=t.slice(e);for(let e of t){const t=e.querySelectorAll("."+this.hoosObj.defaultUnavailableClass);for(let e of t){b(this.hoosObj,e,"show");const t=e.getAttribute("for");let o;(o=t?document.getElementById(t)||e.previousElementSibling:e.querySelector("input"))&&(o.disabled=!1,this.hideShowParentElement(o,"show"))}}}}detectChangeAndUpdateElements(){const e=this.hoosObj.selectors.length-1,t=this.hoosObj.extras.variant_change_delay;if("select"===this.hoosObj.selector_type)for(let o=0;o<e;o++)this.hoosObj.selectors[o].addEventListener("change",e=>{setTimeout(()=>{this.enableDisabledSelectors(o+1),(e.target.value&&"not-selected"!==e.target.value||!0!==this.hoosObj.extras.make_a_selection_required)&&this.hideSelectOptionBasedOnPrevChoice(o+1)},t)});else for(let o=0;o<e;o++)for(let e of this.hoosObj.selectors[o])e.addEventListener("change",()=>{setTimeout(()=>{this.enableDisabledSelectors(o+1),!e.value&&this.hoosObj.extras.make_a_selection_required,this.hideSelectOptionBasedOnPrevChoice(o+1)},t)})}hideSoldOutVariants(){if(!1===_({hoosObj:this.hoosObj}))return;if(!1===this.hoosObj.availableVariants)return;if(k(this.hoosObj),!j(this.hoosObj))return;if("yes"===this.hoosObj.extras.hide_from_variantid_dropdown&&1===this.hoosObj.selectors.length){const{firstAvailableVariantId:e,selectedVariantValue:t}=this.hideFromVariantIdDropdown();return void(e&&!0!==this.hoosObj.extras.make_a_selection_required&&e!=t&&this.hoosObj.product.variants.find(t=>t.id==e)&&V(this.hoosObj.selectors[0],e,0,this.hoosObj))}if(!this.hoosObj.availableVariants.length)return this.hideAllUnavailableVariants(),void(this.hoosObj.product.variants.some(e=>e.marked_unavailable)&&this.hideUnavailableOption1());if(this.hoosObj.selectors.length!==this.hoosObj.product.options.length)return;let e=this.hoosObj.selected_or_first_available_variant_id==this.hoosObj.availableVariants[0].id?this.hoosObj.availableVariants[0]:null;this.hideUnavailableOption1(),!0!==this.hoosObj.extras.make_a_selection_required&&(this.setInitialSelection(this.hoosObj.availableVariants[0]),this.hideSelectOptionBasedOnPrevChoice(1,e)),this.detectChangeAndUpdateElements()}}window.initCamouflage=e=>{setTimeout(()=>{(e=>{const t=c(e),o=new U(t,t.hiddenInputFieldForVariantID,t.isSafari);o.hoosObj.unavailableClass=t.unavailable_class||"hide-oos-disable",o.hoosObj.enableDisabledSelectors=o.enableDisabledSelectors,o.hoosObj.hideSelectOptionBasedOnPrevChoice=o.hideSelectOptionBasedOnPrevChoice,o.hoosObj.getAvailableVariants=_,o.updateConfigurationForSelectedThemes(),g(o.hoosObj),m(t).then(async()=>{if(!t.product)return void console.log("Product not found.");if(e.mainContainer&&"string"==typeof e.mainContainer&&(t.mainContainer=document.querySelector(e.mainContainer)||t.mainContainer),t.mainContainer){if(t.mainContainer&&"string"==typeof t.mainContainer){const e=t.mainContainer;t.mainContainer=document.querySelector(e),t.mainContainer||(t.mainContainer=await O(e))}}else t.mainContainer=h();if(!t.mainContainer)return;const a=t.mainContainer.querySelector("[name=id]")||document.querySelector("[name=id]");o.hoosObj.hiddenInputFieldForVariantID=a,o.hiddenInputFieldForVariantID=a,w(t);let i=!1,s=0,n=0;function r(){if(t.field_selector&&t.field_selector||o.setFieldSelector(),t.field_selector){if(u(t),!t.selectors.length)return;v(t),o.hideSoldOutVariants(),"select"===t.selector_type&&o.handleReDisableSoldSelectOption(),i=!0,f(t)}}if(t.extras.delay&&(n=Number(t.extras.delay)),n&&(await S(n),console.debug(n+" seconds delay")),r(),!i){const e=setInterval(()=>{s+=100,r(),(i||s>=4e3)&&(clearInterval(e),console.debug({selectorsSetupComplete:i,lapsedTime:s}))},100)}})})(e)},10)};const I=new CustomEvent("hoos:scriptloaded",{detail:{currentTime:(new Date).getTime()}});document.dispatchEvent(I),document.addEventListener("hoos:alldisabled",()=>{const e=document.querySelector('[name="add"]');e&&(e.disabled=!0)})}();