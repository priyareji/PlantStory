(()=>{function t(t,e=!1,n=!1,r=!1){const o=document.createElement("script");o.setAttribute("src",t),e&&o.setAttribute("async",""),n&&o.setAttribute("defer",""),r&&o.setAttribute("type","module"),document.body.appendChild(o)}const e=document.currentScript;!function(){void 0===window.nector_params&&(window.nector_params={}),void 0===window.nector&&(window.nector={}),window.elementId="nector-rewards-widget-wSVNjD";let n=e.dataset,r=null,o=null;try{window&&window.location&&window.location.href&&(r=new URL(window.location.href),o=r&&r.searchParams)}catch(t){}if(n&&Object.values(n).length>0){let r=n.op;if(!r)return;if("widget"===r){let e=n.api_key||null,r=n.customer_id||nector_params.customer_id||null,o=n.platform||null,a=n.websdk_url||null,i=n.platform_url||null,s=n.font_name||null,l=n.font_url||null,c=n.app||null;if(!e)return;if(nector={...nector||{},api_key:e,identifier:o,business_customer_id:r||null,websdk_url:a,platform_url:i},s&&l&&(nector.font_name=s,nector.font_url=l),c&&(nector.app=c),!document.getElementById(elementId)){let t=document.createElement("div");t.id=elementId,document.body.appendChild(t)}setTimeout((()=>{i&&i.includes("stageplatform.nector.io")?t("https://cdn.nector.io/nector-static/no-cache/stagereward-widget/main.min.js",!0):t("https://cdn.nector.io/nector-static/no-cache/reward-widget/main.min.js",!0)}),2e3)}else if("review_list"===r||"featured_review_list"===r||"row_review_list"===r){let t=n.api_key||null,o=n.platform||null,i=n.product_id||nector_params.product_id||null,s=n.websdk_url||"https://websdk.nector.io",l=n.platform_url||"https://platform.nector.io",c=n.font_name||null,d=n.font_url||null,p=Number(n.limit||10),u=n.all_reviews||!1,m=n.view_type||"grid",_=n.write_review_mode||"inline",f=n.hide_review_list||!1,w=n.hide_write_review||!1,h=n.default_reviews_sort||null,y=n.hide_date||!1,g=n.app||null,b=n.hide_title||null,v=n.hide_overall_rating||null;if(!t)return;let $="nector-reviews",k=null;"featured_review_list"===r?(k=`${s}/nector/featuredreview-list/?murl=${l}&mkey=${t}`,$="nector-featured-reviews"):k=`${s}/nector/review-list/?murl=${l}&mkey=${t}`;const x=new URLSearchParams;o&&"featured_review_list"!==r&&x.set("mi",o),i&&"featured_review_list"!==r&&x.set("reference_product_id",i),c&&d&&(x.set("font_name",c),x.set("font_url",d)),p&&"featured_review_list"!==r&&x.set("limit",p),u&&"featured_review_list"!==r&&x.set("mar",u),h&&"featured_review_list"!==r&&x.set("mdrsort",h),m&&"featured_review_list"!==r&&x.set("mvt",m),_&&"featured_review_list"!==r&&x.set("mwrm",_),f&&"featured_review_list"!==r&&x.set("mhrl",f),w&&"featured_review_list"!==r&&x.set("mhwr",w),y&&"featured_review_list"!==r&&x.set("mhd",y),g&&x.set("app",g),b&&x.set("mht",b),v&&x.set("mhor",v),[...x.keys()].length>0&&(k+=`&${x.toString()}`);var a=function(){let t=document.createElement("div");e.parentNode.insertBefore(t,e);const n=document.createElement("script");n.setAttribute("src","https://cdn.nector.io/nector-static/js/iframeResizer.min.js"),n.setAttribute("async",""),n.onload=function(){const e=document.createElement("script");e.text=`iFrameResize({ log: false, tolerance: 2 }, '#${$}')`,t.appendChild(e)},t.appendChild(n);const r=document.createElement("iframe");r.id=$,r.setAttribute("src",k),r.style.width="100%",r.style.border="0px",t.appendChild(r)};"featured_review_list"===r?setTimeout((()=>a()),3e3):a()}else if("review_rating"===r){let t=n.api_key||null,r=n.platform||null,o=n.product_id||null,a=n.entity_id||null,i=n.platform_url||null,s=n.color||"#ffc83d";if(i||(i=a?"https://collectfront.nector.io":"https://cachefront.nector.io"),!t)return;let l=document.createElement("p");e.parentNode.insertBefore(l,e);let c=`${i}/api/v2/merchant/reviews-count`;const d=new URLSearchParams;a&&"https://collectfront.nector.io"===i&&d.set("entity_id",a),r&&d.set("reference_product_source",r),o&&d.set("reference_product_id",o),[...d.keys()].length>0&&(c+=`?${d.toString()}`),fetch(c,{method:"get",headers:{"x-apikey":t,"x-source":"web"}}).then((t=>t.json())).then((t=>function(t){if(!t||!t.data||!t.data.countsum)return;const e=t.data.countsum||{sum:0,count:1},n=(Number(e.sum||0)/Number(e.count||1)).toFixed(2),r=Number(e.count||0),o=n;let a=`<a href="#nector-reviews" style="text-decoration: none;"><span style="font-weight: bold; font-size: 14px; color: ${s}; display: inline-flex; justify-content: center;">`;for(let t=1;t<=5;t++){let e=t-.5;a+=o>=t?'<svg class="prapp-star" style="width: 1em; height: 1em;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">\n\t\t\t\t\t\t\t\t\t<path fill="currentcolor" d="M512,197.816L325.961 185.585 255.898 9.569 185.835 185.585 0 197.816 142.534 318.842 95.762 502.431 255.898 401.21 416.035 502.431 369.263 318.842z"></path>\n\t\t\t\t\t\t\t\t</svg>':o>=e?'<svg class="prapp-star" style="width: 1em; height: 1em;" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="510px" height="510px" viewBox="0 0 510 510" style="enable-background:new 0 0 510 510;" xml:space="preserve">\n\t\t\t\t\t\t\t\t\t<path fill="currentcolor" d="M510,197.472l-183.37-15.734L255,12.75l-71.629,168.988L0,197.472l0,0l0,0l139.103,120.539L97.41,497.25L255,402.186l0,0l157.59,95.039l-41.692-179.239L510,197.472z M255,354.348V117.172l43.605,102.918l111.689,9.588l-84.711,73.389l25.398,109.166L255,354.348z"/>\n\t\t\t\t\t\t\t\t</svg>':'<svg class="prapp-star" style="width: 1em; height: 1em;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">\n\t\t\t\t\t\t\t\t\t<path fill="currentcolor" d="M512,197.819l-185.933-12.228L256,9.571l-70.067,176.021L0,197.82l142.658,120.93L95.856,502.429L256,401.214 l160.144,101.215l-46.8-183.671L512,197.819z M256,365.724l-112.464,71.08l32.827-128.831L75.829,222.888l130.971-8.603 L256,90.687l49.2,123.599l131.124,8.602l-100.689,85.077l32.829,128.839L256,365.724z" />\n\t\t\t\t\t\t\t\t</svg>'}a+=`<span style="margin-left: 3px">(${r})</span> </span></a>`,l.innerHTML=a}(t)))}else if("reward"===r){let t=n.api_key||null,r=n.platform||null,a=n.customer_id||nector_params.customer_id||o&&o.get("nector_inject_id")||null,i=n.websdk_url||"https://websdk.nector.io",s=n.platform_url||"https://platform.nector.io",l=n.font_name||null,c=n.font_url||null,d=n.app||null;if(!t)return;let p=`${i}/nector/rewards/?murl=${s}&mkey=${t}`;const u=new URLSearchParams;r&&u.set("mi",r),a&&u.set("customer_id",a),l&&c&&(u.set("font_name",l),u.set("font_url",c)),d&&u.set("app",d),[...u.keys()].length>0&&(p+=`&${u.toString()}`),function(){let t=document.createElement("div");e.parentNode.insertBefore(t,e);const n=document.createElement("script");n.setAttribute("src","https://cdn.nector.io/nector-static/js/iframeResizer.min.js"),n.setAttribute("async",""),n.onload=function(){const e=document.createElement("script");e.text="iFrameResize({ log: false, tolerance: 2 }, '#nector-rewards')",t.appendChild(e)},t.appendChild(n);const r=document.createElement("iframe");r.id="nector-rewards",r.setAttribute("src",p),r.style.width="100%",r.style.border="0px",t.appendChild(r)}()}else if("referral"===r){let t=n.api_key||null,r=n.platform||null,a=n.customer_id||nector_params.customer_id||o&&o.get("nector_inject_id")||null,i=n.websdk_url||"https://websdk.nector.io",s=n.platform_url||"https://platform.nector.io",l=n.font_name||null,c=n.font_url||null,d=n.show_on||null,p=n.placement||"last",u=n.container_selector||null,m=n.app||null;if(!t)return;let _=`${i}/nector/referrals/?murl=${s}&mkey=${t}`;const f=new URLSearchParams;r&&f.set("mi",r),a&&f.set("customer_id",a),l&&c&&(f.set("font_name",l),f.set("font_url",c)),m&&f.set("app",m),[...f.keys()].length>0&&(_+=`&${f.toString()}`),function(){let t=document.createElement("div");const n=document.createElement("script");n.setAttribute("src","https://cdn.nector.io/nector-static/js/iframeResizer.min.js"),n.setAttribute("async",""),n.onload=function(){const e=document.createElement("script");e.text="iFrameResize({ log: false, tolerance: 2 }, '#nector-referrals')",t.appendChild(e)},t.appendChild(n);const r=document.createElement("iframe");if(r.id="nector-referrals",r.setAttribute("src",_),r.style.width="100%",r.style.border="0px",t.appendChild(r),"order_status_page"===d){t.classList.add("nector-content-box"),t.style="margin: 15px 0;";const e=document.querySelector(u||".main .main__content .step .step__sections > .section > .section__content");e&&("first"===p?e.prepend(t):e.append(t))}else e.parentNode.insertBefore(t,e)}()}else if("buywithcoinsbutton"===r){let r=n.api_key||null,o=n.platform||"",a=n.customer_id||nector_params.customer_id||"",i=n.platform_url||"https://platform.nector.io",s=n.target_element_id||nector_params.target_element_id,l=n.price||nector_params.price||"",c=n.product_id||nector_params.product_id||"",d=n.buy_button_selector||nector_params.buy_button_selector||"",p=n.buywithcoins_button_classes||nector_params.buywithcoins_button_classes||"",u=n.animate_buywithcoins_button||nector_params.animate_buywithcoins_button||"",m=n.page_type||nector_params.page_type||"";if(!r)return;let _=document.createElement("div");_.innerHTML=`\n\t\t\t\t<div\n\t\t\t\t\tid="${s||"nector-buywithcoinsbutton-container"}"\n\n\t\t\t\t\tdata-price="${l}"\n\t\t\t\t\tdata-product_id="${c}"\n\t\t\t\t\tdata-buy_button_selector="${d}"\n\t\t\t\t\tdata-buywithcoins_button_classes="${p}"\n\t\t\t\t\tdata-animate_buywithcoins_button="${String(u)}"\n\t\t\t\t\tdata-page_type="${m}"\n\n\t\t\t\t\tdata-api_key="${r}"\n\t\t\t\t\tdata-customer_id="${a}"\n\t\t\t\t\tdata-platform="${o}"\n\t\t\t\t\tdata-platform_url="${i}"\n\t\t\t\t></div>\n\t\t\t`,e.parentNode.insertBefore(_,e);let f="";f=i&&i.includes("stageplatform.nector.io")?"https://cdn.nector.io/nector-static/no-cache/stagereward-widget/package/buywithcoinsbutton.min.js":"https://cdn.nector.io/nector-static/no-cache/reward-widget/package/buywithcoinsbutton.min.js",s&&(f+=`?target_element_id=${s}`),t(f,!1,!1,!0)}else if("giftcardbutton"===r){let r=n.api_key||null,o=n.platform||"",a=n.customer_id||nector_params.customer_id||"",i=n.platform_url||"https://platform.nector.io",s=n.applydiscount_input_selector||nector_params.applydiscount_input_selector||"",l=n.applydiscount_button_selector||nector_params.applydiscount_button_selector||"",c=n.applydiscount_strategy||nector_params.applydiscount_strategy||"";if(!r)return;let d=document.createElement("div");d.innerHTML=`\n\t\t\t\t<div \n\t\t\t\t\tid="nector-giftcard-container"\n\t\t\t\t\tdata-api_key="${r}"\n\t\t\t\t\tdata-customer_id="${a}"\n\t\t\t\t\tdata-platform="${o}"\n\t\t\t\t\tdata-platform_url="${i}"\n\n\t\t\t\t\tdata-applydiscount_input_selector="${s}"\n\t\t\t\t\tdata-applydiscount_button_selector="${l}"\n\t\t\t\t\tdata-applydiscount_strategy="${c}"\n\t\t\t\t></div>\n\t\t\t`,e.parentNode.insertBefore(d,e);let p="";p=i&&i.includes("stageplatform.nector.io")?"https://cdn.nector.io/nector-static/no-cache/stagereward-widget/package/giftcardbutton.min.js":"https://cdn.nector.io/nector-static/no-cache/reward-widget/package/giftcardbutton.min.js",t(p,!1,!1,!0)}else if("checkoutpageslider"===r){let r=n.api_key||null,o=n.platform||"",a=n.customer_id||nector_params.customer_id||"",i=n.platform_url||"https://platform.nector.io",s=n.applydiscount_input_selector||nector_params.applydiscount_input_selector||"",l=n.applydiscount_button_selector||nector_params.applydiscount_button_selector||"",c=n.applydiscount_strategy||nector_params.applydiscount_strategy||"";if(!r)return;let d=document.createElement("div");d.innerHTML=`\n\t\t\t\t<div \n\t\t\t\t\tid="nector-checkoutpageslider-container"\n\t\t\t\t\tdata-api_key="${r}"\n\t\t\t\t\tdata-customer_id="${a}"\n\t\t\t\t\tdata-platform="${o}"\n\t\t\t\t\tdata-platform_url="${i}"\n\n\t\t\t\t\tdata-applydiscount_input_selector="${s}"\n\t\t\t\t\tdata-applydiscount_button_selector="${l}"\n\t\t\t\t\tdata-applydiscount_strategy="${c}"\n\t\t\t\t></div>\n\t\t\t`,e.parentNode.insertBefore(d,e);let p="";p=i&&i.includes("stageplatform.nector.io")?"https://cdn.nector.io/nector-static/no-cache/stagereward-widget/package/checkoutpageslider.min.js":"https://cdn.nector.io/nector-static/no-cache/reward-widget/package/checkoutpageslider.min.js",t(p,!1,!1,!0)}else if("customerearn"===r){let r=window.nector_params,o=n.api_key||null,a=n.platform||"",i=n.customer_id||r.customer_id||"",s=n.platform_url||"https://platform.nector.io",l=n.price||r.price||"";if(!o)return;let c=document.createElement("div");c.innerHTML=`\n\t\t\t\t<div \n\t\t\t\t\tid="nector-customerearn-container"\n\t\t\t\t\tdata-api_key="${o}"\n\t\t\t\t\tdata-customer_id="${i}"\n\t\t\t\t\tdata-platform="${a}"\n\t\t\t\t\tdata-platform_url="${s}"\n\n\t\t\t\t\tdata-price="${l}"\n\t\t\t\t></div>\n\t\t\t`,e.parentNode.insertBefore(c,e);let d="";d=s&&s.includes("stageplatform.nector.io")?"https://cdn.nector.io/nector-static/no-cache/stagereward-widget/package/customerearn.min.js":"https://cdn.nector.io/nector-static/no-cache/reward-widget/package/customerearn.min.js",t(d,!1,!1,!0)}}}()})();